<div class="container mx-auto p-5 max-w-screen-lg">
  <div *ngIf="isLoading" class="flex justify-center items-center h-64">
    <mat-spinner color="primary" class="w-16 h-16"></mat-spinner>
  </div>

  <div *ngIf="!isLoading" class="space-y-8">
    <div class="categories-list">
      <h3 class="text-2xl font-semibold mb-4 text-gray-800">Categories:</h3>
      <div class="flex flex-wrap gap-4">
        <button
          mat-raised-button
          *ngFor="let category of categories"
          (click)="displayProducts(category)"
          class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition"
        >
          {{ category }}
        </button>
      </div>
    </div>

    <div *ngIf="products.length > 0" class="products-list">
      <h3 class="text-2xl font-semibold mb-4 text-gray-800">Products:</h3>
      <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
        <mat-card *ngFor="let product of products" class="shadow-md hover:shadow-lg transition">
          <mat-card-header>
            <mat-card-title class="text-lg font-medium">{{ product.title }}</mat-card-title>
          </mat-card-header>
          <img
            mat-card-image
            [src]="product.image"
            [alt]="product.title"
            class="object-contain h-48 w-full"
          />
          <mat-card-content>
            <p class="text-gray-700 font-medium text-lg">
              {{ product.price | currency }}
            </p>
          </mat-card-content>
          <mat-card-actions class="flex justify-end">
            <button
              mat-button
              color="primary"
              [routerLink]="['/products/product-details', product.id]"
            >
              View Details
            </button>
          </mat-card-actions>
        </mat-card>
      </div>
    </div>

    <div *ngIf="products.length === 0" class="text-center text-gray-500">
      <p>No products available for the selected category.</p>
    </div>
  </div>
</div>
